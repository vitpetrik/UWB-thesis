```{julia}

using Statistics
using DataFrames
using Plots
using CSV
using Printf

gr()

default_plots = (
    fontfamily="computer modern",
    lims = :round,
    minorgrid=true,
    legend=false,
    color_palette=:lighttest,
    widen=true,
)

```

# Ultra-wideband

## History

## MAC layer

## Physical Layer

The physical (PHY) layer of UWB has been described in IEEE 802.15.4-2011 [@6012487]. 
Newer standards have been released since in year 2015 and 2020, however the UWB radio that has been used in this thesis supports the 2011 release.
The standard defines three operation bands:

* sub-gigahertz band consisting of single channel spectrum from 249.6 MHz to 749.6 MHz.
* Low band with spectrum from 3.1 GHz to 4.8 GHz.
* High band with spectrum from 6 GHz to 10.6 GHz.

PHY 

![Data flow according to [@6012487].](figures/uwb_phy_dataflow.pdf){#fig-uwb-dataflow}

```{julia}

#| label: fig-uwb-reference pulse
#| fig-cap: "Reference pulse of UWB radio."
#| output: true
#| width: 70%

β = 0.5
Tp = 2e-9
r(t) = 4*β*(cos((1+β)*pi*t/Tp)+sin((1-β)*pi*t/Tp)/(4*β*(t/Tp)))/(pi*sqrt(Tp)*(1-(4*β*t/Tp)^2))

t = LinRange(-8e-9, 8e-9, 1000)
y = r.(t)
y /= maximum(y)

plot(;default_plots..., 
        xlabel="Time [ns]", 
        ylabel="",
        yformatter=Returns("")
    )

plot!(1e9.*t, y)


```